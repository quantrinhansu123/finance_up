"use client";

import React, { createContext, useContext, useState, useEffect, ReactNode } from "react";

export type Language = "vi" | "en";

export const translations = {
    vi: {
        "overview": "Tá»•ng quan",
        "income_expense": "Thu & Chi",
        "management": "Quáº£n lÃ½",
        "system": "Há»‡ thá»‘ng",
        "dashboard": "Dashboard",
        "income": "Thu tiá»n",
        "expense": "Chi tiá»n",
        "transfer": "Chuyá»ƒn tiá»n",
        "approvals": "PhÃª duyá»‡t",
        "transactions": "Giao dá»‹ch",
        "projects": "Dá»± Ã¡n",
        "accounts": "TÃ i khoáº£n",
        "funds": "Quá»¹/NhÃ³m",
        "categories": "Danh má»¥c",
        "fixed_costs": "Chi phÃ­ cá»‘ Ä‘á»‹nh",
        "reports": "BÃ¡o cÃ¡o",
        "users": "NgÆ°á»i dÃ¹ng",
        "logs": "Nháº­t kÃ½",
        "my_profile": "TÃ i khoáº£n cá»§a tÃ´i",
        "logout": "ÄÄƒng xuáº¥t",
        "add": "ThÃªm",
        "add_new": "ThÃªm má»›i",
        "edit": "Sá»­a",
        "delete": "XÃ³a",
        "view": "Xem",
        "view_detail": "Xem chi tiáº¿t",
        "save": "LÆ°u thay Ä‘á»•i",
        "cancel": "Há»§y",
        "search": "TÃ¬m kiáº¿m",
        "filter": "Lá»c",
        "reset": "Äáº·t láº¡i",
        "export": "Xuáº¥t file",
        "actions": "Thao tÃ¡c",
        "status": "Tráº¡ng thÃ¡i",
        "record_status": "Tráº¡ng thÃ¡i báº£n ghi",
        "date": "NgÃ y",
        "amount": "Sá»‘ tiá»n",
        "type": "Loáº¡i",
        "name": "TÃªn",
        "description": "MÃ´ táº£",
        "loading": "Äang táº£i...",
        "no_data": "KhÃ´ng cÃ³ dá»¯ liá»‡u",
        "all": "Táº¥t cáº£",
        "approved": "ÄÃ£ duyá»‡t",
        "pending": "Chá» duyá»‡t",
        "rejected": "Tá»« chá»‘i",
        "active": "Hoáº¡t Ä‘á»™ng",
        "inactive": "Táº¡m dá»«ng",
        "on": "Báº­t",
        "off": "Táº¯t",
        "showing": "Hiá»ƒn thá»‹",
        "to": "Ä‘áº¿n",
        "of": "cá»§a",
        "records": "báº£n ghi",
        "index": "#",
        "members": "ThÃ nh viÃªn",
        "revenue": "Doanh thu",
        "expenses": "Chi phÃ­",
        "profit": "Lá»£i nhuáº­n",
        "create_project": "Táº¡o dá»± Ã¡n",
        "budget": "NgÃ¢n sÃ¡ch",
        "spent": "ÄÃ£ chi",
        "usage": "Sá»­ dá»¥ng",
        "keywords": "Tá»« khÃ³a",
        "parent_category": "Danh má»¥c gá»‘c",
        "transaction_count": "Sá»‘ GD",
        "total_amount": "Tá»•ng tiá»n",
        "account_name": "TÃªn tÃ i khoáº£n",
        "balance": "Sá»‘ dÆ°",
        "currency": "Tiá»n tá»‡",
        "collapse": "Thu gá»n",

        // Fixed Costs specific
        "fixed_costs_desc": "Quáº£n lÃ½ cÃ¡c khoáº£n chi Ä‘á»‹nh ká»³ (ThuÃª nhÃ , LÆ°Æ¡ng, Server...)",
        "generate_monthly": "Táº¡o giao dá»‹ch thÃ¡ng nÃ y",
        "search_cost": "TÃ¬m tÃªn khoáº£n chi...",
        "add_fixed_cost": "ThÃªm Chi PhÃ­",
        "edit_fixed_cost": "Sá»­a Chi PhÃ­ Cá»‘ Äá»‹nh",
        "create_fixed_cost": "ThÃªm Chi PhÃ­ Cá»‘ Äá»‹nh",
        "cycle": "Chu ká»³",
        "monthly": "HÃ ng thÃ¡ng",
        "quarterly": "HÃ ng quÃ½",
        "yearly": "HÃ ng nÄƒm",
        "default_payment_account": "TÃ i khoáº£n thanh toÃ¡n máº·c Ä‘á»‹nh",
        "select_account_optional": "Chá»n tÃ i khoáº£n (TÃ¹y chá»n)",
        "save_cost": "LÆ°u chi phÃ­",
        "cost_details": "Chi Tiáº¿t Chi PhÃ­",
        "close": "ÄÃ³ng",
        "unassigned": "ChÆ°a gÃ¡n",
        "never_generated": "ChÆ°a táº¡o giao dá»‹ch",
        "last_generated_month": "ThÃ¡ng táº¡o gáº§n nháº¥t",
        "payment_account": "TÃ i khoáº£n tráº£",

        // Categories specific
        "categories_desc": "Quáº£n lÃ½ danh má»¥c thu chi chung",
        "search_category": "TÃ¬m tÃªn danh má»¥c...",
        "add_category": "ThÃªm danh má»¥c",
        "all_types": "Táº¥t cáº£ loáº¡i",
        "income_cat": "Danh má»¥c Thu",
        "expense_cat": "Danh má»¥c Chi",
        "project_allocation": "PhÃ¢n bá»• theo dá»± Ã¡n",
        "amount_comparison": "So sÃ¡nh sá»‘ tiá»n",
        "detailed_comparison": "So sÃ¡nh chi tiáº¿t giá»¯a cÃ¡c dá»± Ã¡n",
        "sub_category": "Danh má»¥c con",
        "chart": "Biá»ƒu Ä‘á»“",
        "edit_category": "Chá»‰nh sá»­a danh má»¥c",
        "add_root_category": "ThÃªm danh má»¥c gá»‘c",
        "category_type": "Loáº¡i danh má»¥c",
        "category_name": "TÃªn danh má»¥c *",
        "update": "Cáº­p nháº­t",
        "saving": "Äang lÆ°u...",
        "inc": "Thu",
        "exp": "Chi",
        "ratio": "Tá»· lá»‡",
        "root_category": "Danh má»¥c Gá»‘c",

        // Projects specific
        "projects_desc": "Quáº£n lÃ½ dá»± Ã¡n vÃ  P&L",
        "no_access": "KhÃ´ng cÃ³ quyá»n truy cáº­p",
        "no_project_access_desc": "Báº¡n chÆ°a Ä‘Æ°á»£c phÃ¢n quyá»n vÃ o báº¥t ká»³ dá»± Ã¡n nÃ o. Vui lÃ²ng liÃªn há»‡ quáº£n trá»‹ viÃªn Ä‘á»ƒ Ä‘Æ°á»£c cáº¥p quyá»n.",
        "limited_project_view": "ðŸ“‹ Báº¡n chá»‰ cÃ³ thá»ƒ xem cÃ¡c dá»± Ã¡n mÃ  báº¡n Ä‘Æ°á»£c phÃ¢n quyá»n tham gia ({count} dá»± Ã¡n). LiÃªn há»‡ quáº£n trá»‹ viÃªn Ä‘á»ƒ Ä‘Æ°á»£c thÃªm vÃ o dá»± Ã¡n khÃ¡c.",
        "search_projects": "TÃ¬m kiáº¿m dá»± Ã¡n...",
        "all_status": "Táº¥t cáº£ tráº¡ng thÃ¡i",
        "paused": "Táº¡m dá»«ng",
        "completed": "HoÃ n thÃ nh",
        "no_description": "KhÃ´ng cÃ³ mÃ´ táº£",
        "edit_project": "Sá»­a dá»± Ã¡n",
        "update_project": "Cáº­p nháº­t dá»± Ã¡n",
        "create_project_now": "Táº¡o dá»± Ã¡n ngay",
        "no_permission": "Báº¡n khÃ´ng cÃ³ quyá»n thá»±c hiá»‡n thao tÃ¡c nÃ y",
        "confirm_delete": "Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n xÃ³a?",
        "delete_failed": "XÃ³a tháº¥t báº¡i",

        // Accounts specific
        "accounts_title": "TÃ i khoáº£n NgÃ¢n hÃ ng/Tiá»n máº·t",
        "accounts_desc": "Quáº£n lÃ½ sá»‘ dÆ° vÃ  phÃ¢n quyá»n",
        "total_liquidity": "Tá»•ng thanh khoáº£n (Quy Ä‘á»•i USD)",
        "account_count": "{count} tÃ i khoáº£n",
        "search_accounts": "TÃ¬m tÃªn tÃ i khoáº£n...",
        "add_account": "ThÃªm tÃ i khoáº£n",
        "all_accounts": "Táº¥t cáº£ tÃ i khoáº£n",
        "account_type": "Loáº¡i tÃ i khoáº£n",
        "initial_balance": "Äáº§u ká»³",
        "total_in": "Tá»•ng thu",
        "total_out": "Tá»•ng chi",
        "history": "Xem lá»‹ch sá»­",
        "lock": "KhÃ³a",
        "unlock": "Má»Ÿ khÃ³a",
        "lock_confirm": "Báº¡n cÃ³ cháº¯c muá»‘n KHÃ“A tÃ i khoáº£n \"{name}\"?",
        "unlock_confirm": "Báº¡n cÃ³ cháº¯c muá»‘n Má»ž KHÃ“A tÃ i khoáº£n \"{name}\"?",
        "delete_acc_has_tx": "KhÃ´ng thá»ƒ xÃ³a tÃ i khoáº£n \"{name}\" vÃ¬ Ä‘Ã£ cÃ³ giao dá»‹ch liÃªn quan.\n\nBáº¡n cÃ³ thá»ƒ KHÃ“A tÃ i khoáº£n thay vÃ¬ xÃ³a.",
        "delete_acc_balance_nonzero": "KhÃ´ng thá»ƒ xÃ³a tÃ i khoáº£n \"{name}\" vÃ¬ sá»‘ dÆ° khÃ¡c 0.",
        "delete_acc_confirm": "Báº¡n cÃ³ cháº¯c muá»‘n XÃ“A VÄ¨NH VIá»„N tÃ i khoáº£n \"{name}\"?\n\nHÃ nh Ä‘á»™ng nÃ y khÃ´ng thá»ƒ hoÃ n tÃ¡c!",
        "delete_failed_acc": "Lá»—i khi xÃ³a tÃ i khoáº£n",

        // Account Modals
        "add_account_title": "ThÃªm tÃ i khoáº£n má»›i",
        "edit_account_title": "Chá»‰nh sá»­a tÃ i khoáº£n",
        "account_name_label": "TÃªn tÃ i khoáº£n",
        "account_name_placeholder": "VD: Vietcombank, Tiá»n máº·t VP...",
        "account_type_label": "Loáº¡i tÃ i khoáº£n",
        "bank": "NgÃ¢n hÃ ng",
        "cash": "Tiá»n máº·t",
        "e_wallet": "VÃ­ Ä‘iá»‡n tá»­",
        "link_to_project": "GÃ¡n vÃ o dá»± Ã¡n (tuá»³ chá»n)",
        "general_account": "-- TÃ i khoáº£n chung --",
        "initial_balance_label": "Sá»‘ dÆ° ban Ä‘áº§u",
        "lock_currency": "KhÃ³a loáº¡i tiá»n",
        "lock_currency_desc": "TÃ i khoáº£n chá»‰ Ä‘Æ°á»£c chi tiá»n {currency}, khÃ´ng Ä‘Æ°á»£c chi loáº¡i tiá»n khÃ¡c",
        "limit_categories": "Giá»›i háº¡n háº¡ng má»¥c chi",
        "allow_all_categories": "Cho phÃ©p táº¥t cáº£ háº¡ng má»¥c",
        "allow_x_categories": "Chá»‰ cho phÃ©p {count} háº¡ng má»¥c",
        "clear_all": "XÃ³a táº¥t cáº£",
        "creating": "Äang táº¡o...",
        "updating": "Äang cáº­p nháº­t...",
        "create_account_btn": "Táº¡o tÃ i khoáº£n",
        "update_account_btn": "Cáº­p nháº­t tÃ i khoáº£n",
        "opening_balance_cat": "Sá»‘ dÆ° Ä‘áº§u ká»³",
        "init_account_desc": "Khá»Ÿi táº¡o tÃ i khoáº£n",

        // Users specific
        "users_title": "Quáº£n lÃ½ NgÆ°á»i dÃ¹ng",
        "users_desc": "Xem vÃ  quáº£n lÃ½ thÃ´ng tin ngÆ°á»i dÃ¹ng há»‡ thá»‘ng",
        "total_users": "Tá»•ng ngÆ°á»i dÃ¹ng",
        "approved_users": "ÄÃ£ duyá»‡t",
        "visible_users": "Äang hiá»ƒn thá»‹",
        "search_users": "TÃ¬m tÃªn hoáº·c email...",
        "add_user": "ThÃªm ngÆ°á»i dÃ¹ng",
        "finance_role": "Vai trÃ² tÃ i chÃ­nh",
        "position": "Chá»©c vá»¥",
        "phone": "Sá»‘ Ä‘iá»‡n thoáº¡i",
        "user_details": "Chi tiáº¿t ngÆ°á»i dÃ¹ng",
        "edit_user": "Sá»­a thÃ´ng tin ngÆ°á»i dÃ¹ng",
        "create_user": "ThÃªm ngÆ°á»i dÃ¹ng má»›i",
        "saving_user": "Äang lÆ°u...",
        "delete_user_confirm": "Báº¡n cÃ³ cháº¯c muá»‘n xÃ³a ngÆ°á»i dÃ¹ng \"{name}\"?\n\nHÃ nh Ä‘á»™ng nÃ y khÃ´ng thá»ƒ hoÃ n tÃ¡c!",
        "delete_failed_user": "Lá»—i khi xÃ³a ngÆ°á»i dÃ¹ng",
        "save_failed_user": "Lá»—i khi lÆ°u ngÆ°á»i dÃ¹ng",
        "name_required": "Vui lÃ²ng nháº­p tÃªn",
        "email_required": "Vui lÃ²ng nháº­p email",
        "admin": "Quáº£n trá»‹ viÃªn",
        "accountant": "Káº¿ toÃ¡n",
        "treasurer": "Thá»§ quá»¹",
        "manager": "Quáº£n lÃ½",
        "staff": "NhÃ¢n viÃªn",
        "no_role": "KhÃ´ng cÃ³ quyá»n",
        "waiting_approval": "Chá» duyá»‡t",
        "approved_status": "ÄÃ£ duyá»‡t",
        "user_display_name": "TÃªn hiá»ƒn thá»‹",
        "email_not_changeable": "Email khÃ´ng thá»ƒ thay Ä‘á»•i",
        "monthly_salary": "LÆ°Æ¡ng thÃ¡ng (VND)",
        "account_approved": "TÃ i khoáº£n Ä‘Ã£ Ä‘Æ°á»£c duyá»‡t",
        "create_now": "Táº¡o má»›i",
        "trans_history": "Xem lá»‹ch sá»­ giao dá»‹ch",
        "email": "Email",
        "edit_user_desc": "Cáº­p nháº­t thÃ´ng tin ngÆ°á»i dÃ¹ng",
        "create_user_desc": "ThÃªm ngÆ°á»i dÃ¹ng má»›i vÃ o há»‡ thá»‘ng",
        "enter_user_name": "Nháº­p tÃªn ngÆ°á»i dÃ¹ng",
        "select_position": "Chá»n chá»©c vá»¥",
        "search_position": "TÃ¬m chá»©c vá»¥...",
        "select_role": "Chá»n vai trÃ²",
        "search_role": "TÃ¬m vai trÃ²...",

        // Funds specific
        "funds_title": "Quá»¹ & NhÃ³m Chi PhÃ­",
        "funds_desc": "Quáº£n lÃ½ ngÃ¢n sÃ¡ch vÃ  phÃ¢n bá»• chi phÃ­",
        "search_funds": "TÃ¬m tÃªn quá»¹...",
        "create_fund": "Táº¡o Quá»¹ má»›i",
        "report_month": "ThÃ¡ng bÃ¡o cÃ¡o",
        "spent_month": "ÄÃ£ chi (ThÃ¡ng)",
        "delete_fund_confirm": "Báº¡n cÃ³ cháº¯c muá»‘n xÃ³a quá»¹ nÃ y? HÃ nh Ä‘á»™ng nÃ y khÃ´ng thá»ƒ hoÃ n tÃ¡c.",
        "delete_failed_fund": "XÃ³a tháº¥t báº¡i",
        "no_funds_created": "ChÆ°a cÃ³ quá»¹ nÃ o. HÃ£y táº¡o quá»¹ má»›i.",
        "tx_in_month": "Giao dá»‹ch thÃ¡ng {month}",
        "total_spent_month": "Tá»•ng chi thÃ¡ng nÃ y:",
        "tx_not_found_month": "KhÃ´ng cÃ³ giao dá»‹ch trong thÃ¡ng nÃ y",

        // Dashboard/Overview specific
        "finance_overview": "Tá»•ng quan TÃ i chÃ­nh",
        "total_balance": "Tá»•ng sá»‘ dÆ°",
        "money_in": "Tiá»n vÃ o",
        "money_out": "Tiá»n ra",
        "needs_action": "Cáº§n xá»­ lÃ½",
        "manage": "Quáº£n lÃ½",
        "unassigned_project": "VÄƒn phÃ²ng / CÃ¡ nhÃ¢n",
        "accounts_count": "{count} TK",
        "no_accounts": "ChÆ°a cÃ³ tÃ i khoáº£n",
        "currency_allocation": "PhÃ¢n bá»• Thu - Chi theo Loáº¡i tiá»n",
        "income_by_currency": "Thu vÃ o theo Tiá»n tá»‡",
        "expense_by_currency": "Chi ra theo Tiá»n tá»‡",
        "no_income_data": "ChÆ°a cÃ³ dá»¯ liá»‡u thu",
        "no_expense_data": "ChÆ°a cÃ³ dá»¯ liá»‡u chi",
        "expense_ratio": "Tá»· lá»‡ chi",
        "income_ratio": "Tá»· lá»‡ thu",
        "cost_fluctuation": "Biáº¿n Ä‘á»™ng Chi phÃ­ theo Háº¡ng má»¥c",
        "expense_by_fund": "Chi theo Quá»¹",
        "total_expense_percent": "{percent}% tá»•ng chi",
        "no_fund_data": "ChÆ°a cÃ³ dá»¯ liá»‡u quá»¹. Vui lÃ²ng táº¡o quá»¹ vÃ  gáº¯n giao dá»‹ch.",
        "project_comparison": "So sÃ¡nh Chi phÃ­ theo Danh má»¥c giá»¯a cÃ¡c Dá»± Ã¡n",
        "no_comp_data": "ChÆ°a cÃ³ dá»¯ liá»‡u chi phÃ­ Ä‘á»ƒ so sÃ¡nh",
        "income_expense_by_project": "Thu Chi theo Dá»± Ã¡n",
        "view_all": "Xem táº¥t cáº£",
        "remaining": "CÃ²n láº¡i",
        "daily_details": "Chi tiáº¿t theo ngÃ y",
        "search_category_detail": "TÃ¬m háº¡ng má»¥c...",
        "view_more": "Xem thÃªm",
        "num_categories": "{count} háº¡ng má»¥c",
        "fluctuation": "Biáº¿n Ä‘á»™ng",
        "salary_revenue_ratio": "Tá»· lá»‡ LÆ°Æ¡ng / Doanh thu",
        "large_expenses": "Khoáº£n chi lá»›n",
        "no_large_expenses": "KhÃ´ng cÃ³ khoáº£n chi lá»›n",
        "pending_approvals": "Äang chá» duyá»‡t",
        "no_pending_approvals": "KhÃ´ng cÃ³ giao dá»‹ch chá» duyá»‡t",
        "recent_transactions": "Giao dá»‹ch gáº§n Ä‘Ã¢y",
        "all_currencies": "Táº¥t cáº£ tiá»n tá»‡",
        "all_projects": "Táº¥t cáº£ dá»± Ã¡n",
        "today_label": "HÃ´m nay",
        "week_label": "Tuáº§n nÃ y",
        "month_label": "ThÃ¡ng nÃ y",
        "quarter_label": "QuÃ½ nÃ y",
        "year_label": "NÄƒm nÃ y",
        "select_date": "Chá»n ngÃ y",
        "select_period": "Chá»n khoáº£ng thá»i gian",
        "from_date": "Tá»« ngÃ y",
        "to_date": "Äáº¿n ngÃ y",
        "apply": "Ãp dá»¥ng",
        "convert_usd": "Quy Ä‘á»•i USD",
        "no_dashboard_access": "ChÆ°a cÃ³ quyá»n xem Dashboard",
        "no_dashboard_desc": "Äá»ƒ xem Dashboard, báº¡n cáº§n Ä‘Æ°á»£c phÃ¢n quyá»n \"Xem dashboard & bÃ¡o cÃ¡o\" trong Ã­t nháº¥t má»™t dá»± Ã¡n.",
        "guide": "HÆ°á»›ng dáº«n",
        "guide_desc": "LiÃªn há»‡ quáº£n trá»‹ viÃªn hoáº·c chá»§ dá»± Ã¡n Ä‘á»ƒ Ä‘Æ°á»£c cáº¥p quyá»n truy cáº­p.",
        "my_projects": "Xem dá»± Ã¡n cá»§a tÃ´i",
        "today": "HÃ´m nay",
        "week": "Tuáº§n",
        "month": "ThÃ¡ng",
        "year": "NÄƒm",
    },
    en: {
        "overview": "Overview",
        "income_expense": "Income & Expense",
        "management": "Management",
        "system": "System",
        "dashboard": "Dashboard",
        "income": "Income",
        "expense": "Expense",
        "transfer": "Transfer",
        "approvals": "Approvals",
        "transactions": "Transactions",
        "projects": "Projects",
        "accounts": "Accounts",
        "funds": "Funds",
        "categories": "Categories",
        "fixed_costs": "Fixed Costs",
        "reports": "Reports",
        "users": "Users",
        "logs": "Logs",
        "my_profile": "My Profile",
        "logout": "Logout",
        "add": "Add",
        "add_new": "Add New",
        "edit": "Edit",
        "delete": "Delete",
        "view": "View",
        "view_detail": "View Detail",
        "save": "Save Changes",
        "cancel": "Cancel",
        "search": "Search",
        "filter": "Filter",
        "reset": "Reset",
        "export": "Export",
        "actions": "Actions",
        "status": "Status",
        "record_status": "Rec. Status",
        "date": "Date",
        "amount": "Amount",
        "type": "Type",
        "name": "Name",
        "description": "Description",
        "loading": "Loading...",
        "no_data": "No data available",
        "all": "All",
        "approved": "Approved",
        "pending": "Pending",
        "rejected": "Rejected",
        "active": "Active",
        "inactive": "Inactive",
        "on": "On",
        "off": "Off",
        "showing": "Showing",
        "to": "to",
        "of": "of",
        "records": "records",
        "index": "#",
        "members": "Members",
        "revenue": "Revenue",
        "expenses": "Expenses",
        "profit": "Profit",
        "create_project": "Create Project",
        "budget": "Budget",
        "spent": "Spent",
        "usage": "Usage",
        "keywords": "Keywords",
        "parent_category": "Parent Category",
        "transaction_count": "TX Count",
        "total_amount": "Total Amount",
        "account_name": "Account Name",
        "balance": "Balance",
        "currency": "Currency",
        "collapse": "Collapse",

        // Fixed Costs specific
        "fixed_costs_desc": "Manage recurring expenses (Rent, Salaries, Servers...)",
        "generate_monthly": "Generate Monthly TX",
        "search_cost": "Search expense name...",
        "add_fixed_cost": "Add Fixed Cost",
        "edit_fixed_cost": "Edit Fixed Cost",
        "create_fixed_cost": "Create Fixed Cost",
        "cycle": "Cycle",
        "monthly": "Monthly",
        "quarterly": "Quarterly",
        "yearly": "Yearly",
        "default_payment_account": "Default Payment Account",
        "select_account_optional": "Select account (Optional)",
        "save_cost": "Save Cost",
        "cost_details": "Cost Details",
        "close": "Close",
        "unassigned": "Unassigned",
        "never_generated": "Never generated",
        "last_generated_month": "Last Generated Month",
        "payment_account": "Payment Account",

        // Categories specific
        "categories_desc": "Manage general income and expense categories",
        "search_category": "Search category name...",
        "add_category": "Add Category",
        "all_types": "All Types",
        "income_cat": "Income Category",
        "expense_cat": "Expense Category",
        "project_allocation": "Allocation by Project",
        "amount_comparison": "Amount Comparison",
        "detailed_comparison": "Detailed Comparison between Projects",
        "sub_category": "Sub Category",
        "chart": "Chart",
        "edit_category": "Edit Category",
        "add_root_category": "Add Root Category",
        "category_type": "Category Type",
        "category_name": "Category Name *",
        "update": "Update",
        "saving": "Saving...",
        "inc": "Inc",
        "exp": "Exp",
        "ratio": "Ratio",
        "root_category": "Master Category",

        // Projects specific
        "projects_desc": "Manage projects and P&L",
        "no_access": "No Access",
        "no_project_access_desc": "You have not been assigned to any project yet. Please contact the administrator.",
        "limited_project_view": "ðŸ“‹ You can only view projects you are assigned to ({count} projects). Contact admin for more.",
        "search_projects": "Search projects...",
        "all_status": "All status",
        "paused": "Paused",
        "completed": "Completed",
        "no_description": "No description",
        "edit_project": "Edit Project",
        "update_project": "Update Project",
        "create_project_now": "Create Project Now",
        "no_permission": "You don't have permission to do this",
        "confirm_delete": "Are you sure you want to delete?",
        "delete_failed": "Delete failed",

        // Accounts specific
        "accounts_title": "Bank Accounts/Cash",
        "accounts_desc": "Manage balances and permissions",
        "total_liquidity": "Total Liquidity (USD Conv.)",
        "account_count": "{count} accounts",
        "search_accounts": "Search account name...",
        "add_account": "Add Account",
        "all_accounts": "All Accounts",
        "account_type": "Account Type",
        "initial_balance": "Initial",
        "total_in": "Total In",
        "total_out": "Total Out",
        "history": "View History",
        "lock": "Lock",
        "unlock": "Unlock",
        "lock_confirm": "Are you sure you want to LOCK account \"{name}\"?",
        "unlock_confirm": "Are you sure you want to UNLOCK account \"{name}\"?",
        "delete_acc_has_tx": "Cannot delete account \"{name}\" because it has related transactions.\n\nYou can LOCK the account instead of deleting.",
        "delete_acc_balance_nonzero": "Cannot delete account \"{name}\" because balance is not 0.",
        "delete_acc_confirm": "Are you sure you want to PERMANENTLY DELETE account \"{name}\"?\n\nThis action cannot be undone!",
        "delete_failed_acc": "Error deleting account",

        // Account Modals
        "add_account_title": "Add New Account",
        "edit_account_title": "Edit Account",
        "account_name_label": "Account Name",
        "account_name_placeholder": "e.g. Vietcombank, Cash...",
        "account_type_label": "Account Type",
        "bank": "Bank",
        "cash": "Cash",
        "e_wallet": "E-Wallet",
        "link_to_project": "Link to project (optional)",
        "general_account": "-- General Account --",
        "initial_balance_label": "Initial Balance",
        "lock_currency": "Lock currency",
        "lock_currency_desc": "Account can only spend {currency}, cannot spend other currencies",
        "limit_categories": "Limit expense categories",
        "allow_all_categories": "Allow all categories",
        "allow_x_categories": "Allow {count} categories",
        "clear_all": "Clear all",
        "creating": "Creating...",
        "updating": "Updating...",
        "create_account_btn": "Create Account",
        "update_account_btn": "Update Account",
        "opening_balance_cat": "Opening Balance",
        "init_account_desc": "Initialize account",

        // Users specific
        "users_title": "User Management",
        "users_desc": "View and manage system user information",
        "total_users": "Total Users",
        "approved_users": "Approved",
        "visible_users": "Visible",
        "search_users": "Search name or email...",
        "add_user": "Add User",
        "finance_role": "Finance Role",
        "position": "Position",
        "phone": "Phone Number",
        "user_details": "User Details",
        "edit_user": "Edit User Info",
        "create_user": "Add New User",
        "saving_user": "Saving...",
        "delete_user_confirm": "Are you sure you want to delete user \"{name}\"?\n\nThis action cannot be undone!",
        "delete_failed_user": "Error deleting user",
        "save_failed_user": "Error saving user",
        "name_required": "Please enter name",
        "email_required": "Please enter email",
        "admin": "Administrator",
        "accountant": "Accountant",
        "treasurer": "Treasurer",
        "manager": "Manager",
        "staff": "Staff",
        "no_role": "No Role",
        "waiting_approval": "Waiting Approval",
        "approved_status": "Approved",
        "user_display_name": "Display Name",
        "email_not_changeable": "Email cannot be changed",
        "monthly_salary": "Monthly Salary (VND)",
        "account_approved": "Account is approved",
        "create_now": "Create Now",
        "trans_history": "View transaction history",
        "email": "Email",
        "edit_user_desc": "Update user information",
        "create_user_desc": "Add new user to the system",
        "enter_user_name": "Enter user name",
        "select_position": "Select position",
        "search_position": "Search position...",
        "select_role": "Select role",
        "search_role": "Search role...",

        // Funds specific
        "funds_title": "Funds & Expense Groups",
        "funds_desc": "Manage budget and cost allocation",
        "search_funds": "Search fund name...",
        "create_fund": "Create new Fund",
        "report_month": "Reporting Month",
        "spent_month": "Spent (Month)",
        "delete_fund_confirm": "Are you sure you want to delete this fund? This action cannot be undone.",
        "delete_failed_fund": "Delete failed",
        "no_funds_created": "No funds created. Create a new one.",
        "tx_in_month": "Transactions for {month}",
        "total_spent_month": "Total spent this month:",
        "tx_not_found_month": "No transactions in this month",

        // Dashboard/Overview specific
        "finance_overview": "Financial Overview",
        "total_balance": "Total Balance",
        "money_in": "Money In",
        "money_out": "Money Out",
        "needs_action": "Needs Action",
        "manage": "Manage",
        "unassigned_project": "Office / Personal",
        "accounts_count": "{count} Accs",
        "no_accounts": "No accounts",
        "currency_allocation": "Income - Expense Allocation by Currency",
        "income_by_currency": "Income by Currency",
        "expense_by_currency": "Expense by Currency",
        "no_income_data": "No income data",
        "no_expense_data": "No expense data",
        "expense_ratio": "Expense Ratio",
        "income_ratio": "Income Ratio",
        "cost_fluctuation": "Expense Fluctuation by Category",
        "expense_by_fund": "Expense by Fund",
        "total_expense_percent": "{percent}% of total expense",
        "no_fund_data": "No fund data. Please create a fund and attach transactions.",
        "project_comparison": "Project Expense Comparison by Category",
        "no_comp_data": "No expense data to compare",
        "income_expense_by_project": "Income & Expense by Project",
        "view_all": "View All",
        "remaining": "Remaining",
        "daily_details": "Daily Details",
        "search_category_detail": "Search category...",
        "view_more": "View more",
        "num_categories": "{count} categories",
        "fluctuation": "Fluctuation",
        "salary_revenue_ratio": "Salary / Revenue Ratio",
        "large_expenses": "Large Expenses",
        "no_large_expenses": "No large expenses",
        "pending_approvals": "Pending Approvals",
        "no_pending_approvals": "No pending transactions",
        "recent_transactions": "Recent Transactions",
        "all_currencies": "All Currencies",
        "all_projects": "All Projects",
        "today_label": "Today",
        "week_label": "This Week",
        "month_label": "This Month",
        "quarter_label": "This Quarter",
        "year_label": "This Year",
        "select_date": "Select Date",
        "select_period": "Select Period",
        "from_date": "From Date",
        "to_date": "To Date",
        "apply": "Apply",
        "convert_usd": "USD Conv.",
        "no_dashboard_access": "No Dashboard Access",
        "no_dashboard_desc": "To view the Dashboard, you need to be assigned \"View dashboard & reports\" permissions in at least one project.",
        "guide": "Guide",
        "guide_desc": "Contact administrator or project owner to get access.",
        "my_projects": "View My Projects",
        "today": "Today",
        "week": "Week",
        "month": "Month",
        "year": "Year",
    }
} as const;

export type Translations = typeof translations.vi;
export type TranslationKey = keyof Translations;

interface LanguageContextType {
    language: Language;
    setLanguage: (lang: Language) => void;
    t: (key: TranslationKey) => string;
}

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

export function LanguageProvider({ children }: { children: ReactNode }) {
    const [language, setLanguageState] = useState<Language>("vi");

    useEffect(() => {
        const savedLang = localStorage.getItem("language");
        if (savedLang === "vi" || savedLang === "en") {
            setLanguageState(savedLang as Language);
        }
    }, []);

    const setLanguage = (lang: Language) => {
        setLanguageState(lang);
        localStorage.setItem("language", lang);
    };

    const t = (key: TranslationKey): string => {
        const currentTranslations = translations[language] as any;
        return currentTranslations[key] || key;
    };

    return (
        <LanguageContext.Provider value={{ language, setLanguage, t }}>
            {children}
        </LanguageContext.Provider>
    );
}

export function useTranslation() {
    const context = useContext(LanguageContext);
    if (context === undefined) {
        throw new Error("useTranslation must be used within a LanguageProvider");
    }
    return context;
}
